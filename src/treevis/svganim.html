<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title></title>

<script type="text/javascript" src="DOM.js"></script>
<script type="text/javascript">
var SVG_NAMESPACE = "http://www.w3.org/2000/svg";

function debug(str)
{
    console.log(str);
}

function main()
{
    var svg = document.createElementNS(SVG_NAMESPACE,"svg");
    document.body.appendChild(svg);

    var rect = document.createElementNS(SVG_NAMESPACE,"rect");
    rect.setAttribute("x","100");
    rect.setAttribute("y","100");
    rect.setAttribute("width","200");
    rect.setAttribute("height","200");
    rect.setAttribute("stroke","black");
    rect.setAttribute("fill","red");
    rect.setAttribute("opacity","0.5");
    svg.appendChild(rect);

    var animate = document.createElementNS(SVG_NAMESPACE,"animate");
    animate.setAttribute("attributeName","x");
    animate.setAttribute("from","100");
    animate.setAttribute("to","600");
    animate.setAttribute("dur","2s");
    animate.setAttribute("fill","freeze");
    rect.appendChild(animate);

    var animate2 = document.createElementNS(SVG_NAMESPACE,"animate");
    animate2.setAttribute("attributeType","XML");
    animate2.setAttribute("attributeName","opacity");
    animate2.setAttribute("from","0");
    animate2.setAttribute("to","1");
    animate2.setAttribute("dur","2s");
    animate2.setAttribute("fill","freeze");
    rect.appendChild(animate2);

    animate.beginElement();
    animate2.beginElement();

    window.setInterval(function() { debug("x = "+rect.getAttribute("x")+
                                          ", opacity = "+rect.style.opacity); },
                       100);
}

</script>


</head>

<body onload="main()">
</body> </html>
