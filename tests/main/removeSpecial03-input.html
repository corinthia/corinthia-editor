<!DOCTYPE html>
<html>
<head>
<script>
function performTest(api)
{
    api.AutoCorrect.init();
    api.PostponedActions.perform();

    api.Cursor.insertCharacter("one");
    api.Cursor.insertCharacter(" twox");
    api.AutoCorrect.correctPrecedingWord(4,"two");
    api.Cursor.insertCharacter(" three");
    api.PostponedActions.perform();

    api.Selection.selectAll();
    outputOptions.keepSelectionHighlights = true;

    var before = PrettyPrinter.getHTML(document.documentElement,outputOptions);
    api.Main.removeSpecial(document.documentElement);
    var after = PrettyPrinter.getHTML(document.documentElement,outputOptions);
    return "Before\n------\n\n"+before+"\nAfter\n-----\n\n"+after;
}
</script>
</head>
<body>
<p>[]</p>
</body>
</html>
