<!DOCTYPE html>
<html>
<head>
<link href="../generic.css" rel="stylesheet"/>
<script type="text/javascript" src="OutlineTest.js"></script>
<script>
function performTest(api)
{
    api.tests.TestLib.setupOutlineNumbering();
    api.Outline.init();
    api.PostponedActions.perform();

    // Create a series of headings
    api.tests.OutlineTests.createTestSections([2,[2,2]]);

    // Add a table of contents
    api.Selection.set(document.body,0,document.body,0);
    api.Outline.insertTableOfContents();
    api.PostponedActions.perform();

    // Modify the second heading, to verify that the change is reflected in the TOC
    var heading = document.getElementsByTagName("h1")[1];
    api.DOM.appendChild(heading,api.DOM.createTextNode(document,"XYZ"));
    api.PostponedActions.perform();

    api.tests.TestLib.simplifyTOCs();
}
</script>
</head>
<body>
</body>
</html>
