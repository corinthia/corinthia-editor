<!DOCTYPE html>
<html>
<head>
<link href="../generic.css" rel="stylesheet"/>
<script></script>
<script>
function performTest(api)
{
    api.Outline.init();
    api.PostponedActions.perform();

    // Create a series of figures
    api.tests.OutlineTests.createTestFigures(4);

    // Turn numbering off for all figures
    api.tests.TestLib.setNumbering(false);
    api.PostponedActions.perform();

    // Add a list of figures
    api.Selection.set(document.body,0,document.body,0);
    api.Outline.insertListOfFigures();
    api.PostponedActions.perform();

    // Turn numbering on for the last two figures
    var figcaptions = document.getElementsByTagName("figure");
    api.Outline.setNumbered(figcaptions[2].getAttribute("id"),true);
    api.Outline.setNumbered(figcaptions[3].getAttribute("id"),true);
    api.PostponedActions.perform();

    // Now turn numbering on for the first two figures - the numbers for the others
    // should be adjusted
    api.Outline.setNumbered(figcaptions[0].getAttribute("id"),true);
    api.Outline.setNumbered(figcaptions[1].getAttribute("id"),true);
    api.PostponedActions.perform();
}
</script>
</head>
<body>
</body>
</html>
