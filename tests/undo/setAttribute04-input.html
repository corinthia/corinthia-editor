<!DOCTYPE html>
<html>
<head>
<script></script>
<script>
function performTest(api)
{
    api.Outline.init();
    api.PostponedActions.perform();

    var versions = new Array();
    var img = document.getElementsByTagName("IMG")[0];
    versions.push(api.DOM.cloneNode(img,true));

    api.DOM.setAttribute(img,"width","300");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.setAttribute(img,"height","200");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.setAttribute(img,"alt","An image");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.setAttribute(img,"width","400");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.setAttribute(img,"height","300");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.removeAttribute(img,"width");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.removeAttribute(img,"height");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.DOM.removeAttribute(img,"alt");
    versions.push(api.DOM.cloneNode(img,true));
    api.UndoManager.newGroup();

    api.tests.UndoTests.testUndo(versions,img);
}
</script>
</head>
<body>
<img src="first.png">
</body>
</html>
