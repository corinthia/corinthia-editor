<!DOCTYPE html>
<html>
<head>
<script>
function performTest()
{
    var p = document.getElementsByTagName("P")[0];
    var bs = document.getElementsByTagName("B");
    var is = document.getElementsByTagName("I");

    var range = Selection_get();
    if (range.start.node.nodeType != Node.TEXT_NODE)
        throw new Error("range start should be in a text node");

    Range_trackWhileExecuting(range,function() {
       Formatting_mergeUpwards(range.start.node,Formatting_MERGEABLE_INLINE);
    });
    showRangeAsBrackets(range);
}
</script>
</head>
<body>

<p><b><i><u>One two </u></i></b><b><i><u>[]three</u></i></b></p>

</body>
</html>
