<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script language="javascript">

function performTest()
{
    // Have to set the selection manually here, since putting in [ and ] is invalid HTML and
    // WebKit's parser will move the selection to before the table if we do that
    var table = document.getElementsByTagName("TABLE")[0];
    var tds = document.getElementsByTagName("TD");
    var td1Offset = getOffsetOfNodeInParent(tds[1]);
    var td2Offset = getOffsetOfNodeInParent(tds[2]);

    setSelectionRange(new Range(tds[1].parentNode,td1Offset,tds[2].parentNode,td2Offset+1));

    Formatting.applyFormattingChanges("h1",null);

    // An unrelated part of the code adds "id" attributes to heading elements to keep track of
    // sections - we're not testing that functionality here, so we want to ignore them
    removeIds();
}
</script>
</head>
<body>
<p>Paragraph one</p>
<p>Paragraph two</p>
<table border="1">
  <tr>
    <td><p>One</p></td>
    <td><p>Two</p></td>
  </tr>
  <tr>
    <td><p>Three</p></td>
    <td><p>Four</p></td>
  </tr>
</table>
<p>Paragraph three</p>
<p>Paragraph four</p>
</body>
</html>
